# 异: 现在和将来

程序中现在运行的部分和将来运行的部分之间的关系就是异步编程的核心。

js实现异步的方式：回调函数、promise、async await、迭代器 生成器、发布订阅模式

## 分块的程序

任何时候，只要把一段代码包装成一个函数，并指定它在响应某个事件（定时器、鼠标点击、Ajax响应等）时执行，
你就是在代码中创建了一个将来执行的块，也由此在这个程序中引入了异步机制。

实际上，JavaScript程序总是至少分为两个块：第一块现在运行；下一块将来运行，以响应某个事件。

## 并行线程

异步是关于现在和将来的时间间隙，而并行是关于能够同时发生的事情。

## 并发

另一种可能遇到的并发交互条件有时称为竞态（race），但是更精确的叫法是门闩（latch）。
它的特性可以描述为“只有第一名取胜”

并发是指两个或多个事件链随时间发展交替执行，以至于从更高的层次来看，就像是同时在运行（尽管在任意时刻只处理一个事件）​。

## 任务

Promise的异步特性是基于任务的

一旦有事件需要运行，事件循环就会运行，直到队列清空。事件循环的每一轮称为一个tick。
用户交互、IO和定时器会向事件队列中加入事件。